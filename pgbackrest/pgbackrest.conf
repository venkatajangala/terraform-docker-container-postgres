[global]
# Global pgbackrest configuration for PostgreSQL HA cluster

# PostgreSQL client configuration
repo1-type=posix
repo1-path=/var/lib/pgbackrest
repo1-retention-full=7
repo1-retention-full-type=day
repo1-retention-diff=3
repo1-retention-diff-type=day

# PostgreSQL connection
pg1-path=/var/lib/postgresql/18/main
pg1-port=5432
pg1-user=postgres

# Backup settings
process-max=4
log-level-console=info
log-level-file=info
log-path=/var/log/pgbackrest

# Archive settings
archive-check=y
archive-timeout=300s
start-fast=y

# Parallel settings
backup-process-max=4
restore-process-max=4

# WAL settings
wal-compression=y

[pg-ha-cluster]
# Cluster-specific settings
pg1-db-include=*
pg1-db-exclude=template0,template1,
